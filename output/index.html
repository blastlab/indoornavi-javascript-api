<html>
<head>

</head>
<body>
<button disabled id="toggle10999" onclick="toggle10999()">Toggle 10999</button>
<button disabled id="drawPolyline" onclick="drawPolyline()">Draw Polyline</button>
<div id="map"></div>
</body>
<script src="indoorNavi.js"></script>
<script>
    const  points = [
      {x:100, y: 100},
      {x:200, y: 200},
      {x:300, y: 300},
      {x:400, y: 400},
      {x:500, y: 500}
    ];
    const navi = new IndoorNavi(
        'http://localhost:4200',
        'TestAdmin',
        'map',
        {
            width: 800,
            height: 600
        }
    );
    navi.load(4).then(function () {
        document.getElementById('toggle10999').removeAttribute('disabled');
        document.getElementById('drawPolyline').removeAttribute('disabled');

        navi.addEventListener('area', function(data) {
            console.log(data);
        });

        navi.addEventListener('coordinates', function(data) {
            console.log(data);
        });


    });

    // const from = new Date(2017, 10, 1);
    // const to = new Date(2017, 12, 30);
    // const report = new Report('http://localhost:90', 'TestAdmin');
    // report.getCoordinates(2, from, to).then(function(coordinates) {
    //     console.log(coordinates);
    // });
    // report.getAreaEvents(2, from, to).then(function(events) {
    //    console.log(events);
    // });
    //
    function toggle10999() {
        navi.toggleTagVisibility(10999);
    }

    async function drawPolyline() {
      var poly = new Polyline(navi);
      poly.ready().then(() => {
        poly.draw(points);
        poly.remove();
      });
    }

</script>
</html>
